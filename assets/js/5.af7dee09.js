(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{156:function(s,t,a){s.exports=a.p+"assets/img/2.fa1f790c.png"},157:function(s,t,a){s.exports=a.p+"assets/img/1.08c54d66.png"},167:function(s,t,a){"use strict";a.r(t);var r=[function(){var s=this,t=s.$createElement,r=s._self._c||t;return r("div",{staticClass:"content"},[r("h1",{attrs:{id:"如何用node实现命令行工具"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#如何用node实现命令行工具","aria-hidden":"true"}},[s._v("#")]),s._v(" 如何用node实现命令行工具")]),r("h3",{attrs:{id:"介绍概念"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#介绍概念","aria-hidden":"true"}},[s._v("#")]),s._v(" 介绍概念")]),r("ol",[r("li",[s._v("脚本：假设我们创建了一个文件为script.js，这个文件称为脚本")]),r("li",[s._v("运行脚本："),r("code",[s._v("node script.js")]),s._v("这个过程叫运行脚本")])]),r("h3",{attrs:{id:"从运行脚本到命令行工具经过哪些步骤"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#从运行脚本到命令行工具经过哪些步骤","aria-hidden":"true"}},[s._v("#")]),s._v(" 从运行脚本到命令行工具经过哪些步骤")]),r("ol",[r("li",[s._v("创建脚本")]),r("li",[s._v("设置脚本运行环境")]),r("li",[s._v("修改脚本权限")]),r("li",[s._v("设置环境变量")]),r("li",[s._v("运行脚本")])]),r("h3",{attrs:{id:"一步一步实现一个命令行工具"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#一步一步实现一个命令行工具","aria-hidden":"true"}},[s._v("#")]),s._v(" 一步一步实现一个命令行工具")]),r("ol",[r("li",[s._v("node script.js 阶段")])]),r("ul",[r("li",[s._v("新建一个文件夹 "),r("code",[s._v("mkdir node-tool")])]),r("li",[r("code",[s._v("cd node-tool")])]),r("li",[s._v("新建一个文件，"),r("code",[s._v("touch script.js")]),s._v(", 内容"),r("code",[s._v("console.log('Hi, node tool');")])]),r("li",[s._v("命令行执行"),r("code",[s._v("node script.js")])])]),r("ol",{attrs:{start:"2"}},[r("li",[r("code",[s._v("./script.js")]),s._v(" 阶段")])]),r("ul",[r("li",[s._v("在命令行直接执行"),r("code",[s._v("./script.js")]),s._v("会提示"),r("code",[s._v("permission denied: ./script.js")]),s._v("，这是因为我们没有执行权限，解决办法\n"),r("code",[s._v("chmod -R 777 script.js")])]),r("li",[s._v("继续执行"),r("code",[s._v("./script.js")]),s._v("，报错如下\n"),r("img",{attrs:{src:a(157),alt:"img"}}),s._v("\n这是因为脚本默认的执行环境是shell，shell里没有"),r("code",[s._v("console.log")]),s._v("，需要我们指定脚本的执行环境，修改后的script.js")])]),r("div",{staticClass:"language-javascript extra-class"},[r("pre",{pre:!0,attrs:{class:"language-javascript"}},[r("code",[s._v("#"),r("span",{attrs:{class:"token operator"}},[s._v("!")]),r("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),r("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),r("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("bin"),r("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("node\nconsole"),r("span",{attrs:{class:"token punctuation"}},[s._v(".")]),r("span",{attrs:{class:"token function"}},[s._v("log")]),r("span",{attrs:{class:"token punctuation"}},[s._v("(")]),r("span",{attrs:{class:"token string"}},[s._v("'Hi, node tool'")]),r("span",{attrs:{class:"token punctuation"}},[s._v(")")]),r("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),r("ul",[r("li",[s._v("我们想直接在命令行运行script.js，这样看起来像一个完整的命令，执行后报错\n"),r("img",{attrs:{src:a(156),alt:"img"}}),s._v("\n这里我们要清楚一点：可以直接在命令行里执行的命令是因为我们把它放在了/usr/local/bin/目录下，我们可以尝试手动复制script.js到bin下，执行script.js，可以正常执行，所以我们的思路就是想办法把script.js命令和环境变量管理起来，在命令行里面执行："),r("code",[s._v("ln script.js /usr/local/bin/script")]),s._v("，这行命令是将script.js复制到bin下为script。")])])])}],e=a(0),n=Object(e.a)({},function(){this.$createElement;this._self._c;return this._m(0)},r,!1,null,null,null);t.default=n.exports}}]);